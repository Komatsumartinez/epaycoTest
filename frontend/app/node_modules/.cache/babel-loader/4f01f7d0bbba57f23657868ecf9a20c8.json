{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\martineztrujillo.8\\\\Downloads\\\\test-epayco-master\\\\test-epayco-master\\\\frontend\\\\app\\\\src\\\\pages\\\\FormCliente.jsx\";\nimport React, { useState, useEffect, useReducer, useContext } from 'react';\nimport { GlobalState, reducer, initialState } from '../store/store';\nimport { Link } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport axios from 'axios';\nimport StyledRegistro from '../styles/StyledRegistro';\n\nconst FormCliente = ({\n  history\n}) => {\n  const initialData = {\n    documento: '',\n    nombres: undefined,\n    mail: undefined,\n    celular: '',\n    action: 'registrar'\n  };\n  const {\n    state,\n    dispatch\n  } = useContext(GlobalState);\n  const [FormData, setFormData] = useState(initialData);\n  console.log(state, \"ESTE ES STATE\");\n\n  const onChange = e => {\n    //console.log([e.target.name], e.target.value);\n    setFormData({ ...FormData,\n      [e.target.name]: e.target.value\n    }); //console.log(FormData);\n  };\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    console.log(FormData, \"FORM LOCAL STATE\");\n\n    if (FormData.action === 'registrar') {\n      console.log(FormData.action, \"FORM ACTION ES registrar\");\n      const {\n        documento,\n        nombres,\n        mail,\n        celular\n      } = FormData;\n      axios.post('http://localhost:4000/api/cliente/', {\n        documento,\n        nombres,\n        mail,\n        celular\n      }).then(response => {\n        console.log(response, \"RESPUESTA CREAR CLIENTE\");\n        Swal.fire({\n          title: 'Usuario Registrado!',\n          text: `usuario ${response.data.data.nombres} se ha creado su billetera `,\n          icon: 'success',\n          confirmButtonText: 'Ok'\n        });\n      }).catch(error => {\n        console.log(error, \"error response from fetch\"); //dispatch({ type: ERROR_FETCH, payload: error.message })\n\n        Swal.fire({\n          title: error.response ? error.response.data.status : 'ERROR!',\n          text: error.response ? error.response.data.data : error.message,\n          icon: 'error',\n          confirmButtonText: 'Ok'\n        });\n      });\n      history.push('/');\n    } else {\n      Swal.fire({\n        title: 'ERROR!',\n        text: 'Error al enviar los datos',\n        icon: 'error',\n        confirmButtonText: 'Ok'\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(StyledRegistro, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, \"Registro de Clientes\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"documento\",\n    id: \"documento\",\n    placeholder: \"documento\",\n    required: true,\n    value: FormData.documento,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 20\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"nombres\",\n    id: \"nombres\",\n    placeholder: \"nombres\",\n    required: true,\n    value: FormData.nombres,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 20\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"mail\",\n    id: \"mail\",\n    placeholder: \"mail\",\n    required: true,\n    value: FormData.mail,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 20\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"celular\",\n    id: \"celular\",\n    placeholder: \"celular\",\n    required: true,\n    minLength: \"9\",\n    maxLength: \"9\",\n    required: true,\n    value: FormData.celular,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 20\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, FormData.action))));\n};\n\nexport default FormCliente;","map":{"version":3,"sources":["C:/Users/martineztrujillo.8/Downloads/test-epayco-master/test-epayco-master/frontend/app/src/pages/FormCliente.jsx"],"names":["React","useState","useEffect","useReducer","useContext","GlobalState","reducer","initialState","Link","Swal","axios","StyledRegistro","FormCliente","history","initialData","documento","nombres","undefined","mail","celular","action","state","dispatch","FormData","setFormData","console","log","onChange","e","target","name","value","onSubmit","preventDefault","post","then","response","fire","title","text","data","icon","confirmButtonText","catch","error","status","message","push"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,UAApC,EAAgDC,UAAhD,QAAiE,OAAjE;AACA,SAAQC,WAAR,EAAqBC,OAArB,EAA8BC,YAA9B,QAAiD,gBAAjD;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,0BAA3B;;AAOA,MAAMC,WAAW,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAe;AAGjC,QAAMC,WAAW,GAAG;AAClBC,IAAAA,SAAS,EAAE,EADO;AAElBC,IAAAA,OAAO,EAAEC,SAFS;AAGlBC,IAAAA,IAAI,EAAED,SAHY;AAIlBE,IAAAA,OAAO,EAAE,EAJS;AAKlBC,IAAAA,MAAM,EAAE;AALU,GAApB;AASE,QAAM;AAACC,IAAAA,KAAD;AAAQC,IAAAA;AAAR,MAAoBlB,UAAU,CAACC,WAAD,CAApC;AACA,QAAM,CAACkB,QAAD,EAAWC,WAAX,IAA0BvB,QAAQ,CAACa,WAAD,CAAxC;AACAW,EAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ,EAAmB,eAAnB;;AAGA,QAAMM,QAAQ,GAAIC,CAAD,IAAO;AACtB;AACAJ,IAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAc,OAACK,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAAxC,KAAD,CAAX,CAFsB,CAGtB;AACD,GAJD;;AAMA,QAAMC,QAAQ,GAAG,MAAMJ,CAAN,IAAY;AAC3BA,IAAAA,CAAC,CAACK,cAAF;AACAR,IAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ,EAAsB,kBAAtB;;AAEA,QAAIA,QAAQ,CAACH,MAAT,KAAoB,WAAxB,EAAqC;AACnCK,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACH,MAArB,EAA6B,0BAA7B;AACA,YAAM;AAACL,QAAAA,SAAD;AAAYC,QAAAA,OAAZ;AAAqBE,QAAAA,IAArB;AAA2BC,QAAAA;AAA3B,UAAsCI,QAA5C;AAEAb,MAAAA,KAAK,CAACwB,IAAN,CAAW,oCAAX,EAAiD;AAC/CnB,QAAAA,SAD+C;AAE/CC,QAAAA,OAF+C;AAG/CE,QAAAA,IAH+C;AAI/CC,QAAAA;AAJ+C,OAAjD,EAMCgB,IAND,CAMMC,QAAQ,IAAI;AAChBX,QAAAA,OAAO,CAACC,GAAR,CAAYU,QAAZ,EAAsB,yBAAtB;AACA3B,QAAAA,IAAI,CAAC4B,IAAL,CAAU;AACRC,UAAAA,KAAK,EAAE,qBADC;AAERC,UAAAA,IAAI,EAAG,WAAUH,QAAQ,CAACI,IAAT,CAAcA,IAAd,CAAmBxB,OAAQ,6BAFpC;AAGRyB,UAAAA,IAAI,EAAE,SAHE;AAIRC,UAAAA,iBAAiB,EAAE;AAJX,SAAV;AAMD,OAdD,EAeCC,KAfD,CAeOC,KAAK,IAAI;AACdnB,QAAAA,OAAO,CAACC,GAAR,CAAYkB,KAAZ,EAAmB,2BAAnB,EADc,CAEd;;AACAnC,QAAAA,IAAI,CAAC4B,IAAL,CAAU;AACRC,UAAAA,KAAK,EAAEM,KAAK,CAACR,QAAN,GAAkBQ,KAAK,CAACR,QAAN,CAAeI,IAAf,CAAoBK,MAAtC,GAA+C,QAD9C;AAERN,UAAAA,IAAI,EAAEK,KAAK,CAACR,QAAN,GAAkBQ,KAAK,CAACR,QAAN,CAAeI,IAAf,CAAoBA,IAAtC,GAA6CI,KAAK,CAACE,OAFjD;AAGRL,UAAAA,IAAI,EAAE,OAHE;AAIRC,UAAAA,iBAAiB,EAAE;AAJX,SAAV;AAOD,OAzBD;AA2BA7B,MAAAA,OAAO,CAACkC,IAAR,CAAa,GAAb;AACD,KAhCD,MAiCI;AAEFtC,MAAAA,IAAI,CAAC4B,IAAL,CAAU;AACRC,QAAAA,KAAK,EAAE,QADC;AAERC,QAAAA,IAAI,EAAE,2BAFE;AAGRE,QAAAA,IAAI,EAAE,OAHE;AAIRC,QAAAA,iBAAiB,EAAE;AAJX,OAAV;AAMD;AAEF,GA/CD;;AAiDA,sBACI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,eAEA;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAM,IAAA,QAAQ,EAAEV,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAG;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,WAAxB;AAAoC,IAAA,EAAE,EAAC,WAAvC;AAAmD,IAAA,WAAW,EAAC,WAA/D;AAA2E,IAAA,QAAQ,MAAnF;AAAoF,IAAA,KAAK,EAAET,QAAQ,CAACR,SAApG;AAA+G,IAAA,QAAQ,EAAEY,QAAzH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAG;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,SAAxB;AAAkC,IAAA,EAAE,EAAC,SAArC;AAA+C,IAAA,WAAW,EAAC,SAA3D;AAAqE,IAAA,QAAQ,MAA7E;AAA8E,IAAA,KAAK,EAAEJ,QAAQ,CAACP,OAA9F;AAAuG,IAAA,QAAQ,EAAEW,QAAjH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,CAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAG;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,MAAxB;AAA+B,IAAA,EAAE,EAAC,MAAlC;AAAyC,IAAA,WAAW,EAAC,MAArD;AAA4D,IAAA,QAAQ,MAApE;AAAqE,IAAA,KAAK,EAAEJ,QAAQ,CAACL,IAArF;AAA2F,IAAA,QAAQ,EAAES,QAArG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,CAJJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAG;AAAO,IAAA,IAAI,EAAC,MAAZ;AACC,IAAA,IAAI,EAAC,SADN;AAEC,IAAA,EAAE,EAAC,SAFJ;AAGC,IAAA,WAAW,EAAC,SAHb;AAIC,IAAA,QAAQ,MAJT;AAKC,IAAA,SAAS,EAAC,GALX;AAKe,IAAA,SAAS,EAAC,GALzB;AAK6B,IAAA,QAAQ,MALrC;AAMC,IAAA,KAAK,EAAEJ,QAAQ,CAACJ,OANjB;AAM0B,IAAA,QAAQ,EAAEQ,QANpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,CALJ,eAcI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAuBJ,QAAQ,CAACH,MAAhC,CAdJ,CADJ,CAFA,CADJ;AAyBH,CAjGD;;AAmGA,eAAeR,WAAf","sourcesContent":["import React, {useState, useEffect, useReducer, useContext} from 'react'\nimport {GlobalState, reducer, initialState} from '../store/store'\nimport { Link } from 'react-router-dom'\nimport Swal from 'sweetalert2'\nimport axios from 'axios'\nimport StyledRegistro from '../styles/StyledRegistro';\n\n\n\n\n\n\nconst FormCliente = ({history}) => {\n\n  \n  const initialData = {\n    documento: '',\n    nombres: undefined,\n    mail: undefined,\n    celular: '',\n    action: 'registrar'\n\n  }\n\n    const {state, dispatch} = useContext(GlobalState)\n    const [FormData, setFormData] = useState(initialData)\n    console.log(state, \"ESTE ES STATE\");\n\n\n    const onChange = (e) => {\n      //console.log([e.target.name], e.target.value);\n      setFormData({...FormData, [e.target.name]: e.target.value})\n      //console.log(FormData);\n    }\n\n    const onSubmit = async(e) => {\n      e.preventDefault()\n      console.log(FormData, \"FORM LOCAL STATE\")\n\n      if (FormData.action === 'registrar') {\n        console.log(FormData.action, \"FORM ACTION ES registrar\")\n        const {documento, nombres, mail, celular} = FormData\n        \n        axios.post('http://localhost:4000/api/cliente/', {\n          documento,\n          nombres,\n          mail,\n          celular\n        })\n        .then(response => {\n          console.log(response, \"RESPUESTA CREAR CLIENTE\")\n          Swal.fire({\n            title: 'Usuario Registrado!',\n            text: `usuario ${response.data.data.nombres} se ha creado su billetera `,\n            icon: 'success',\n            confirmButtonText: 'Ok'\n          })\n        })\n        .catch(error => {\n          console.log(error, \"error response from fetch\");\n          //dispatch({ type: ERROR_FETCH, payload: error.message })\n          Swal.fire({\n            title: error.response ?  error.response.data.status : 'ERROR!',\n            text: error.response ?  error.response.data.data : error.message,\n            icon: 'error',\n            confirmButtonText: 'Ok'\n          })\n          \n        })\n\n        history.push('/')\n      }\n      else{  \n        \n        Swal.fire({\n          title: 'ERROR!',\n          text: 'Error al enviar los datos',\n          icon: 'error',\n          confirmButtonText: 'Ok'\n        })\n      }\n\n    }\n\n    return (\n        <StyledRegistro>\n          <h1>Registro de Clientes</h1>\n        <div className='card-form'>\n            <form onSubmit={onSubmit}>\n\n                <p><input type=\"text\" name=\"documento\" id=\"documento\" placeholder=\"documento\" required value={FormData.documento} onChange={onChange}/></p>\n                <p><input type=\"text\" name=\"nombres\" id=\"nombres\" placeholder=\"nombres\" required value={FormData.nombres} onChange={onChange}/></p>\n                <p><input type=\"text\" name=\"mail\" id=\"mail\" placeholder=\"mail\" required value={FormData.mail} onChange={onChange}/></p>\n                <p><input type=\"text\" \n                    name=\"celular\" \n                    id=\"celular\" \n                    placeholder=\"celular\" \n                    required\n                    minLength=\"9\" maxLength=\"9\" required\n                    value={FormData.celular} onChange={onChange}/></p>\n                \n                \n                <button type=\"submit\">{FormData.action}</button>\n            </form>\n        \n        </div>\n            \n        </StyledRegistro>\n    )\n}\n\nexport default FormCliente"]},"metadata":{},"sourceType":"module"}